<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:batch="http://www.springframework.org/schema/batch"
       xmlns:p="http://www.springframework.org/schema/p" xmlns:context="http://www.springframework.org/schema/context"
       xmlns:jdbc="http://www.springframework.org/schema/jdbc"
       xsi:schemaLocation="http://www.springframework.org/schema/beans	http://www.springframework.org/schema/beans/spring-beans.xsd
	    http://www.springframework.org/schema/batch 	http://www.springframework.org/schema/batch/spring-batch.xsd
        http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">


	<bean id="orderProcessBean" class="com.isec.sc.intgr.scheduler.OrderProcessTask"/>
	<bean id="productSyncBean" class="com.isec.sc.intgr.scheduler.ProductSyncTask"/>
	
	<!-- ========== Job Detail ========== -->
    <!-- ASPB - Order Create Job -->
    <bean id="orderCreateJob_ASPB" class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean">
	    <property name="targetObject"><ref bean="orderProcessBean"/></property>
	    <property name="targetMethod"><value>createOrder</value></property>
	    <property name="arguments">
	    	<list>
	    		<value>${key.ma.aspb.order}</value>
	    		<value>${key.ma.aspb.orderUpdate.S2M}</value>
	    		<value>${key.ma.aspb.order.error}</value>
	    	</list>
	    </property>
	</bean>
	<!-- ASPB - Order Release Job -->
	<bean id="orderReleaseJob_ASPB" class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean">
	    <property name="targetObject"><ref bean="orderProcessBean"/></property>
	    <property name="targetMethod"><value>processOrderRelease</value></property>
	    <property name="arguments">
	    	<list>
	    		<value>${key.ca.aspb.order.release}</value>
	    		<value>${key.ma.aspb.orderUpdate.S2M}</value>
	    		<value>${key.ma.aspb.order.error}</value>
	    	</list>
	    </property>
	</bean>
	<!-- ASPB - Order Update Job-->
	<bean id="orderStatusUpdateJob_ASPB" class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean">
	    <property name="targetObject"><ref bean="orderProcessBean"/></property>
	    <property name="targetMethod"><value>processShipmentFromCube</value></property>
	    <property name="arguments">
	    	<list>
	    		<value>${key.ca.aspb.orderUpdate.C2S}</value>
	    		<value>${key.ma.aspb.orderUpdate.S2M}</value>
	    		<value>${key.ma.aspb.order.error}</value>
	    	</list>
	    </property>
	</bean>
    <!-- ASPB - Product -->
	<bean id="syncProductJob_ASPB" class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean">
	    <property name="targetObject"><ref bean="productSyncBean"/></property>
	    <property name="targetMethod"><value>syncProductFromCube</value></property>
	    <property name="arguments">
	    	<list>
	    		<value>${key.ca.aspb.product.C2S}</value>
	    		<value>${key.ca.aspb.product.S2C}</value>
	    		<value>${key.ma.aspb.product.S2M}</value>
	    		<value>${key.ca.aspb.product.error}</value>
	    	</list>
	    </property>
	</bean>
	<!-- ASPB - Inventory -->
	<bean id="syncInventoryJob_ASPB" class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean">
	    <property name="targetObject"><ref bean="productSyncBean"/></property>
	    <property name="targetMethod"><value>syncInventoryFromCube</value></property>
	    <property name="arguments">
	    	<list>
	    		<value>${key.ca.aspb.inventory.C2S}</value>
	    		<value>${key.ca.aspb.inventory.S2C}</value>
	    		<value>${key.ma.aspb.inventory.S2M}</value>
	    		<value>${key.ca.aspb.inventory.error}</value>
	    	</list>
	    </property>
	</bean>
    
    <!-- OUTRO - Order -->
    <bean id="orderCreateJob_OUTRO" class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean">
	    <property name="targetObject"><ref bean="orderProcessBean"/></property>
	    <property name="targetMethod"><value>createOrder</value></property>
	    <property name="arguments">
	    	<list>
	    		<value>${key.ma.outro.order}</value>
	    		<value>${key.ma.outro.orderUpdate.S2M}</value>
	    		<value>${key.ma.outro.order.error}</value>
	    	</list>
	    </property>
	</bean>
	<bean id="orderReleaseJob_OUTRO" class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean">
	    <property name="targetObject"><ref bean="orderProcessBean"/></property>
	    <property name="targetMethod"><value>processOrderRelease</value></property>
	    <property name="arguments">
	    	<list>
	    		<value>${key.ca.outro.order.release}</value>
	    		<value>${key.ma.outro.orderUpdate.S2M}</value>
	    		<value>${key.ma.outro.order.error}</value>
	    	</list>
	    </property>
	</bean>
	<bean id="orderUpdateJob_OUTRO" class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean">
	    <property name="targetObject"><ref bean="orderProcessBean"/></property>
	    <property name="targetMethod"><value>processShipmentFromCube</value></property>
	    <property name="arguments">
	    	<list>
	    		<value>${key.ca.outro.orderUpdate.C2S}</value>
	    		<value>${key.ma.outro.orderUpdate.S2M}</value>
	    		<value>${key.ma.outro.order.error}</value>
	    	</list>
	    </property>
	</bean>
	
	<!-- OUTRO - Product -->
	<!-- <bean id="syncProductJob_OUTRO" class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean">
	    <property name="targetObject"><ref bean="productSyncBean"/></property>
	    <property name="targetMethod"><value>syncProduct</value></property>
	    <property name="arguments">
	    	<list>
	    		<value>${key.ma.outro.product}</value>
	    		<value>${key.ma.outro.product.error}</value>
	    	</list>
	    </property>
	</bean> -->
	
	<!-- JNS - Order -->
	<bean id="orderCreateJob_JNS" class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean">
	    <property name="targetObject"><ref bean="orderProcessBean"/></property>
	    <property name="targetMethod"><value>createOrder</value></property>
	    <property name="arguments">
	    	<list>
	    		<value>${key.ma.jns.order}</value>
	    		<value>${key.ma.jns.orderUpdate.S2M}</value>
	    		<value>${key.ma.jns.order.error}</value>
	    	</list>
	    </property>
	</bean>
	
	<bean id="orderReleaseJob_JNS" class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean">
	    <property name="targetObject"><ref bean="orderProcessBean"/></property>
	    <property name="targetMethod"><value>processOrderRelease</value></property>
	    <property name="arguments">
	    	<list>
	    		<value>${key.ca.jns.order.release}</value>
	    		<value>${key.ma.jns.orderUpdate.S2M}</value>
	    		<value>${key.ma.jns.order.error}</value>
	    	</list>
	    </property>
	</bean>
	
	<bean id="orderUpdateJob_JNS" class="org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean">
	    <property name="targetObject"><ref bean="orderProcessBean"/></property>
	    <property name="targetMethod"><value>processShipmentFromCube</value></property>
	    <property name="arguments">
	    	<list>
	    		<value>${key.ca.jns.orderUpdate.C2S}</value>
	    		<value>${key.ma.jns.orderUpdate.S2M}</value>
	    		<value>${key.ma.jns.order.error}</value>
	    	</list>
	    </property>
	</bean>
	<!-- ========== Job Detail ========== -->
	
	
	
	<!-- ========== Job Trigger Setting ========== -->
	<!-- ASPB > Order -->
	<bean id="orderCreateJobTrigger_ASPB" class="org.springframework.scheduling.quartz.CronTriggerBean">
        <property name="jobDetail" ref="orderCreateJob_ASPB" />
        <property name="cronExpression" value="0 0/1 * * * ?" />
    </bean>
    <bean id="orderReleaseJobTrigger_ASPB" class="org.springframework.scheduling.quartz.CronTriggerBean">
        <property name="jobDetail" ref="orderReleaseJob_ASPB" />
        <property name="cronExpression" value="0 0/1 * * * ?" />
    </bean>
	<bean id="orderStatusUpdateJobTrigger_ASPB" class="org.springframework.scheduling.quartz.CronTriggerBean">
        <property name="jobDetail" ref="orderStatusUpdateJob_ASPB" />
        <property name="cronExpression" value="0 0/1 * * * ?" />
    </bean>
    <bean id="syncProductJobTrigger_ASPB" class="org.springframework.scheduling.quartz.CronTriggerBean">
        <property name="jobDetail" ref="syncProductJob_ASPB" />
        <property name="cronExpression" value="0 0/1 * * * ?" />
    </bean>
    <bean id="syncInventoryJobTrigger_ASPB" class="org.springframework.scheduling.quartz.CronTriggerBean">
        <property name="jobDetail" ref="syncInventoryJob_ASPB" />
        <property name="cronExpression" value="0 0/1 * * * ?" />
    </bean>
	
	<!-- OUTRO > Order -->
	<bean id="orderCreateJobTrigger_OUTRO" class="org.springframework.scheduling.quartz.CronTriggerBean">
        <property name="jobDetail" ref="orderCreateJob_OUTRO" />
        <property name="cronExpression" value="0 0/1 * * * ?" />
    </bean>
    <bean id="orderReleaseJobTrigger_OUTRO" class="org.springframework.scheduling.quartz.CronTriggerBean">
        <property name="jobDetail" ref="orderReleaseJob_OUTRO" />
        <property name="startDelay" value="10000" />
        <property name="cronExpression" value="0 0/1 * * * ?" />
    </bean>
    <bean id="orderUpdateJobTrigger_OUTRO" class="org.springframework.scheduling.quartz.CronTriggerBean">
        <property name="jobDetail" ref="orderUpdateJob_OUTRO" />
        <property name="startDelay" value="20000" />
        <property name="cronExpression" value="0 0/1 * * * ?" />
    </bean>
   
    
    <!-- JNS > Order -->
    <bean id="orderCreateJobTrigger_JNS" class="org.springframework.scheduling.quartz.CronTriggerBean">
        <property name="jobDetail" ref="orderCreateJob_JNS" />
        <property name="startDelay" value="10000" />
        <property name="cronExpression" value="0 0/1 * * * ?" />
    </bean>
    <bean id="orderReleaseJobTrigger_JNS" class="org.springframework.scheduling.quartz.CronTriggerBean">
        <property name="jobDetail" ref="orderReleaseJob_JNS" />
        <property name="startDelay" value="20000" />
        <property name="cronExpression" value="0 0/1 * * * ?" />
    </bean>
    <bean id="orderUpdateJobTrigger_JNS" class="org.springframework.scheduling.quartz.CronTriggerBean">
        <property name="jobDetail" ref="orderUpdateJob_JNS" />
        <property name="startDelay" value="20000" />
        <property name="cronExpression" value="0 0/1 * * * ?" />
    </bean>
	<!-- ========== Job Trigger Setting ========== -->
	
	
	<!-- ========== Scheduler Setting ========== -->
    <bean id="schedulerFactoryBean" class="org.springframework.scheduling.quartz.SchedulerFactoryBean">
        <property name="triggers">
            <list>
            		<!-- ASPB -->
                <ref bean="orderCreateJobTrigger_ASPB"/>
                <ref bean="orderReleaseJobTrigger_ASPB"/>
                <ref bean="orderStatusUpdateJobTrigger_ASPB"/>
                <ref bean="syncProductJobTrigger_ASPB"/>
                <ref bean="syncInventoryJobTrigger_ASPB"/>
                
                <!-- OUTRO -->
                <ref bean="orderCreateJobTrigger_OUTRO"/>
                <ref bean="orderReleaseJobTrigger_OUTRO"/>
                <ref bean="orderUpdateJobTrigger_OUTRO"/>
                
                <!-- JNS -->
                <ref bean="orderCreateJobTrigger_JNS"/>
                <ref bean="orderReleaseJobTrigger_JNS"/>
                <ref bean="orderUpdateJobTrigger_JNS"/>
            </list>
        </property>
    </bean>
	<!-- ========== Scheduler Setting ========== -->
	
</beans>
