<!-- BEGIN PAGE HEADER-->
<div class="row">
	<div class="col-md-12">
		<!-- BEGIN PAGE TITLE & BREADCRUMB-->
		<h3 class="page-title">
		Dashboard <small>dashboard & statistics</small>
		</h3>
		<ul class="page-breadcrumb breadcrumb">
			<!-- <li class="btn-group">
				<button type="button" class="btn blue dropdown-toggle" data-toggle="dropdown" data-hover="dropdown" data-delay="1000" data-close-others="true">
				<span>Actions</span><i class="fa fa-angle-down"></i>
				</button>
				<ul class="dropdown-menu pull-right" role="menu">
					<li>
						<a href="#">Action</a>
					</li>
					<li>
						<a href="#">Another action</a>
					</li>
					<li>
						<a href="#">Something else here</a>
					</li>
					<li class="divider">
					</li>
					<li>
						<a href="#">Separated link</a>
					</li>
				</ul>
			</li> -->
			<li>
				<i class="fa fa-home"></i>
				<a href="index.html">Home</a>
				<i class="fa fa-angle-right"></i>
			</li>
			<li>
				<a href="#">eCommerce</a>
				<i class="fa fa-angle-right"></i>
			</li>
			<li>
				<a href="#">Dashboard</a>
			</li>
			<li class="pull-right">
				<div id="dashboard-report-range" class="dashboard-date-range tooltips" data-placement="top" data-original-title="Change dashboard date range">
					<i class="icon-calendar"></i>
					<span></span>
					<i class="fa fa-angle-down"></i>
				</div>
			</li>
		</ul>
		<!-- END PAGE TITLE & BREADCRUMB-->
	</div>
</div>
<!-- END PAGE HEADER-->
<!-- BEGIN PAGE CONTENT-->
<div class="row" id="order_overall">
	<div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
		<div class="dashboard-stat blue-madison">
			<div class="visual">
				<i class="fa fa-briefcase fa-icon-medium"></i>
			</div>
			<div class="details">
				<div class="number" id="ds_tot_amaunt">
				</div>
				<div class="desc">
					 총 결제금액(원) <!-- Lifetime Sales -->
				</div>
			</div>
			<a class="more" href="#">
			Lifetime Sales<!-- View more <i class="m-icon-swapright m-icon-white"></i> -->
			</a>
		</div>
	</div>
	<div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
		<div class="dashboard-stat red-intense">
			<div class="visual">
				<i class="fa fa-shopping-cart"></i>
			</div>
			<div class="details">
				<div class="number" id="ds_tot_orders">
				</div>
				<div class="desc">
					 총 오더건수
				</div>
			</div>
			<a class="more" href="#">
			 Total Orders <!-- <i class="m-icon-swapright m-icon-white"></i> -->
			</a>
		</div>
	</div>
	<div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
		<div class="dashboard-stat purple-plum">
			<div class="visual">
				<i class="fa fa-shopping-cart"></i>
			</div>
			<div class="details">
				<div class="number" id="ds_tot_charge">
				</div>
				<div class="desc">
				총 비용금액(배송비+과세)
				</div>
			</div>
			<a class="more" href="#">
			Total Charge <!-- <i class="m-icon-swapright m-icon-white"></i> -->
			</a>
		</div>
	</div>
	<div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
		<div class="dashboard-stat green-haze">
			<div class="visual">
				<i class="fa fa-group fa-icon-medium"></i>
			</div>
			<div class="details">
				<div class="number" id="ds_tot_discount">
				</div>
				<div class="desc">
					 총 할인금액
				</div>
			</div>
			<a class="more" href="#">
			Total Discount Amount <!-- <i class="m-icon-swapright m-icon-white"></i> -->
			</a>
		</div>
	</div>
</div>
<div class="row">
	<div class="col-md-6">
		<!-- Begin: life time stats -->
		
		<!-- End: life time stats -->
		
		<div class="portlet box red-sunglo tabbable" id="ptl_tt_orderChart">
			<div class="portlet-title">
				<div class="caption">
					<i class="fa fa-bar-chart-o"></i>Orders Report
				</div>
				<div class="tools">
					<!-- <a href="#portlet-config" data-toggle="modal" class="config">
					</a> -->
					<a href="javascript:;" class="reload">
					</a>
				</div>
				<div class="actions">
					<div class="btn-group">
						<a class="btn btn-default btn-sm" href="#" data-toggle="dropdown" data-hover="dropdown" data-close-others="true">
						Filters <i class="fa fa-angle-down"></i>
						</a>
						<ul class="dropdown-menu pull-right">
							<li>
								<a href="#">
								<i class="i"></i> All Project </a>
							</li>
							<li class="divider">
							</li>
							<li>
								<a href="#">
								AirAsia </a>
							</li>
							<li>
								<a href="#">
								Cruise </a>
							</li>
							<li>
								<a href="#">
								HSBC </a>
							</li>
							<li class="divider">
							</li>
							<li>
								<a href="#">
								Pending <span class="badge badge-danger">
								4 </span>
								</a>
							</li>
							<li>
								<a href="#">
								Completed <span class="badge badge-success">
								12 </span>
								</a>
							</li>
							<li>
								<a href="#">
								Overdue <span class="badge badge-warning">
								9 </span>
								</a>
							</li>
						</ul>
					</div>
				</div>
			</div>
			<div class="portlet-body" id="ptl_bd_orderChart">
				<div class="portlet-tabs">
					<ul class="nav nav-tabs" style="margin-right: 100px">
						<li>
							<a href="#portlet_tab2" data-toggle="tab" id="statistics_amounts_tab2">
							Orders </a>
						</li>
						<li>
							<a href="#portlet_tab1" data-toggle="tab" id="statistics_amounts_tab1">
							Amount </a>
						</li>
						<li class="active">
							<a href="#portlet_tab0" data-toggle="tab" id="statistics_amounts_tab0">
							Overall </a>
						</li>
					</ul>
					<div class="tab-content">
						<div class="tab-pane active" id="portlet_tab0">
							<div id="statistics_0" class="chart">
							</div>
						</div>
						<div class="tab-pane" id="portlet_tab1">
							<div id="statistics_1" class="chart">
							</div>
						</div>
						<div class="tab-pane" id="portlet_tab2">
							<div id="statistics_2" class="chart">
							</div>
						</div>
						
					</div>
				</div>
				<div class="well no-margin no-border">
					<div class="row">
						<div class="col-md-3 col-sm-3 col-xs-6 text-stat">
							<span class="label label-success">
							Total Amount: </span>
							<h3>$1,234,112.20</h3>
						</div>
						<div class="col-md-3 col-sm-3 col-xs-6 text-stat">
							<span class="label label-info">
							Total Orders: </span>
							<h3>134,90.10</h3>
						</div>
						<div class="col-md-3 col-sm-3 col-xs-6 text-stat">
							<span class="label label-danger">
							Shipment: </span>
							<h3>$1,134,90.10</h3>
						</div>
						<div class="col-md-3 col-sm-3 col-xs-6 text-stat">
							<span class="label label-warning">
							Tax: </span>
							<h3>$1,134,90.10</h3>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="col-md-6">
		<!-- Begin: life time stats -->
		<div class="portlet box blue-steel" id="pt_order_overview">
			<div class="portlet-title">
				<div class="caption">
					<i class="fa fa-thumb-tack"></i>Orders Overview
				</div>
				<div class="tools">
					<!-- 
					<a href="javascript:;" class="collapse">
					</a>
					<a href="#portlet-config" data-toggle="modal" class="config">
					</a> -->
					<a href="javascript:;" class="reload">
					</a>
					<!-- <a href="javascript:;" class="remove">
					</a> -->
				</div>
				<div class="actions">
					<a class="btn btn-default btn-sm" href="javascript:;" id="btn_more_order">
					More
					<i class="fa fa-edit"></i>
					</a>
				</div>
			</div>
			<div class="portlet-body">
				<div class="tabbable-line" id="tab_overview">
				<ul class="nav nav-tabs">
					<li class="active">
						<a href="#overview_1" data-toggle="tab">
						신규 오더 </a>
					</li>
					<li>
						<a href="#overview_2" data-toggle="tab">
						출고요청 대기목록 </a>
					</li>
					<li>
						<a href="#overview_3" data-toggle="tab">
						출고완료 목록 </a>
					</li>
					<li>
						<a href="#overview_4" data-toggle="tab">
						주문취소 목록 </a>
					</li>
					<li>
						<a href="#overview_5" data-toggle="tab">
						주문에러 목록 </a>
					</li>
					
					
					<!-- <li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">
						Orders <i class="fa fa-angle-down"></i>
						</a>
						<ul class="dropdown-menu" role="menu">
							<li>
								<a href="#overview_4" tabindex="-1" data-toggle="tab">
								Latest 10 Orders </a>
							</li>
							<li>
								<a href="#overview_4" tabindex="-1" data-toggle="tab">
								Pending Orders </a>
							</li>
							<li>
								<a href="#overview_4" tabindex="-1" data-toggle="tab">
								Completed Orders </a>
							</li>
							<li>
								<a href="#overview_4" tabindex="-1" data-toggle="tab">
								Rejected Orders </a>
							</li>
						</ul>
					</li> -->
				</ul>
				<div class="tab-content">
					<div class="tab-pane active" id="overview_1">
						<div class="table-scrollable">
							<table class="table table-striped table-hover table-bordered" id="table_new_list">
								<thead>
								<tr>
									<th>
										 오더번호
									</th>
									<th>
										 오더일시
									</th>
									<th>
										 관리조직
									</th>
									<th>
										 셀러
									</th>
									<th>
										 금액
									</th>
									<th>
										 Status
									</th>
									<th>
									     상세
									</th>
								</tr>
								</thead>
								<tbody>
								</tbody>
								</table>
						</div>
					</div>
					<div class="tab-pane" id="overview_2">
						<div class="table-scrollable">
							<table class="table table-striped table-hover table-bordered" id="table_pending_list">
							<thead>
							<tr>
								<th>
									 오더번호
								</th>
								<th>
									 오더일시
								</th>
								<th>
									 관리조직
								</th>
								<th>
									 셀러
								</th>
								<th>
									 금액
								</th>
								<th>
									 Status
								</th>
								<th>
								     상세
								</th>
							</tr>
							</thead>
							<tbody>
							</tbody>
							</table>
						</div>
					</div>
					
					<div class="tab-pane" id="overview_3">
						<div class="table-scrollable">
							<table class="table table-striped table-hover table-bordered" id="table_shipped_list">
							<thead>
							<tr>
								<th>
									 오더번호
								</th>
								<th>
									 오더일시
								</th>
								<th>
									 관리조직
								</th>
								<th>
									 셀러
								</th>
								<th>
									 금액
								</th>
								<th>
									 Status
								</th>
								<th>
								     상세
								</th>
							</tr>
							</thead>
							<tbody>
							</tbody>
							</table>
						</div>
					</div>
					<div class="tab-pane" id="overview_4">
						<div class="table-scrollable">
							<table class="table table-striped table-hover table-bordered" id="table_cancelled_list">
							<thead>
							<tr>
								<th>
									 오더번호
								</th>
								<th>
									 오더일시
								</th>
								<th>
									 관리조직
								</th>
								<th>
									 셀러
								</th>
								<th>
									 금액
								</th>
								<th>
									 Status
								</th>
								<th>
								     상세
								</th>
							</tr>
							</thead>
							<tbody>
							</tbody>
							</table>
						</div>
					</div>
					<div class="tab-pane" id="overview_5">
						<div class="table-scrollable">
							<table class="table table-striped table-hover table-bordered" id="table_error_list">
							<thead>
							<tr>
								<th>
									 오더번호
								</th>
								<th>
									 에러코드
								</th>
								<th>
									 에러메세지
								</th>
								<th>
									 에러발생일시
								</th>
								<th>
									 상세
								</th>
							</tr>
							</thead>
							<tbody>
							</tbody>
							</table>
						</div>
					</div>
				</div>
				</div>
			</div>
		</div>
		<!-- End: life time stats -->
	</div>
</div>
<!-- END PAGE CONTENT-->

<script src="../../assets/global/plugins/flot/jquery.flot.min.js"></script>
<script src="../../assets/global/plugins/flot/jquery.flot.resize.min.js"></script>
<script src="../../assets/global/plugins/flot/jquery.flot.pie.min.js"></script>
<script src="../../assets/global/plugins/flot/jquery.flot.stack.min.js"></script>
<script src="../../assets/global/plugins/flot/jquery.flot.crosshair.min.js"></script>
<script src="../../assets/global/plugins/flot/jquery.flot.categories.min.js" type="text/javascript"></script>
<script src="../../assets/global/plugins/flot/jquery.flot.time.min.js" type="text/javascript"></script>

<script src="../../assets/global/plugins/bootstrap-daterangepicker/daterangepicker.js" type="text/javascript"></script>

<script type="text/javascript" src="../../assets/global/plugins/datatables/media/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="../../assets/global/plugins/datatables/extensions/TableTools/js/dataTables.tableTools.min.js"></script>
<script type="text/javascript" src="../../assets/global/plugins/datatables/extensions/Scroller/js/dataTables.scroller.min.js"></script>

<script src="../../assets/global/scripts/custom-datatable.js"></script>
<script src="../../assets/admin/pages/scripts/custom-ecommerce-index.js"></script>
<script>
	jQuery(document).ready(function() {    
		 
		 EcommerceIndex.init();
		 
		 // set DatePicker Menu
		 EcommerceIndex.initDashboardDaterange();
		 
		 // get Order Overview Data - tableData
		 EcommerceIndex.setOrderOverviewList();
		 
		 // Chart Reload Button Click Event Handler
		 $("#ptl_tt_orderChart .portlet-title a.reload").click(function(e){
			
			 e.preventDefault();	// prevent default event
			 e.stopPropagation();   // stop event handling here(cancel the default reload handler)
			 
			 Metronic.blockUI({
                target: '#ptl_bd_orderChart'
             });
			 
            $.ajax({
   				url: '/reports/getOrderReportByCh.sc',
   				data: $('#form_regist').serialize(),
   				success:function(data)
   				{
   					EcommerceIndex.setOrderChartData(data);
   					
   					$('#ptl_bd_orderChart ul > li:last > a').tab('show');
   					
   					//EcommerceIndex.refreshChart($('#ptl_bd_orderChart ul > li.active').index());
   					EcommerceIndex.refreshChart();
   					
   				},
   				complete:function(xhr, status){
   					window.setTimeout(function () {
   		                Metronic.unblockUI('#ptl_bd_orderChart');
   		            }, 1000);
   	        	}
    		});
		 });
		 
		 
		 $("#pt_order_overview .portlet-title .tools a.reload").click(function(e){
				
			 e.preventDefault();	// prevent default event
			 e.stopPropagation();   // stop event handling here(cancel the default reload handler)
			 
			 EcommerceIndex.setOrderOverviewList('reload');
			 
		 });
		 
		 
		 $('#btn_more_order').click(function(){
			
			 var tab_index = $('#tab_overview .nav.nav-tabs li[class="active"]').index();
			 
			 var status = "";
			 switch(tab_index) {
				  case 0: status = "A"; break;
				  case 1: status = "3200"; break;
				  case 2: status = "3700"; break;
				  case 3: status = "9000"; break;
				  case 4: {
					  		// TODO: Error Page 이동
					         break;
				  		  }
			  }
			 
			 $('.page-content-body').load('/admin/orders/order_list.html', function(){
				 
				 $('select.form-filter[name="order_status"]').val(status);
				 $('#btn_orderList').click();
				 
			 });
			 
		 });
		
	});
	
</script>